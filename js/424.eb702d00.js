"use strict";(self["webpackChunkhello_world"]=self["webpackChunkhello_world"]||[]).push([[424],{3424:function(e,t,a){a.r(t),a.d(t,{default:function(){return u}});var o=function(){var e=this,t=e._self._c;return t("div",[t("b-row",[t("b-col",{attrs:{lg:"4"}},[t("div",{attrs:{id:"stage-parent"}},[t("div",{staticClass:"border",attrs:{id:"container"}},[t("v-stage",{ref:"stage",attrs:{config:e.configKonva},on:{click:e.onStageClick,mousemove:e.onStageMouseMove,mouseenter:e.onStageMouseenter,mouseleave:e.onStageMouseleave}},[t("v-layer",{ref:"layer"},e._l(e.items,(function(a,o){return t("v-rect",{key:o,attrs:{config:a},on:{dragstart:e.handleDragstart,dragend:e.handleDragend}})})),1)],1)],1)])]),t("b-col",{attrs:{lg:"8"}},[e._v(" right ")])],1)],1)},i=[],r=(a(57658),1500),n=1e3,s=null;function d(){let e=r-80,t=n-80;const a=[];for(let o=0;o<1500;o++)a.push({x:Math.random()*e,y:Math.random()*t,radius:50,id:"node-"+o,width:100,height:100,fill:Konva.Util.getRandomColor(),stroke:"black",draggable:!0,strokeWidth:4});return a}var l={data(){return{configKonva:{width:r,height:n},rect:{x:0,y:0,width:100,height:100,fill:Konva.Util.getRandomColor(),draggable:!0},configCircle:{x:r/2,y:n/2,radius:90,fill:"yellow",stroke:"black",strokeWidth:5,draggable:!0,visible:!0},msg:{},msg2:{},src:"",ds:[],items:[],dragItemId:null}},mounted(){this.items=d(),this.$nextTick((function(){this.$refs.layer.getNode(),s=this.$refs.stage.getNode(),window.addEventListener("resize",this.fitStageIntoParentContainer),this.fitStageIntoParentContainer()}))},methods:{handleDragstart(e){this.dragItemId=e.target.id();const t=this.items.find((e=>e.id===this.dragItemId));this.items.indexOf(t);e.target.moveToTop()},handleDragend(e){this.dragItemId=null},onPaste(e){alert(e.clipboardData)},downloadURI(e,t){var a=document.createElement("a");a.download=t,a.href=e,document.body.appendChild(a),a.click(),document.body.removeChild(a)},onSave(){let e=this.$refs.stage.getNode();var t=e.toDataURL({pixelRatio:.5});this.src=t,this.ds.push(t)},onStageClick(e){let t=this.myGetMouse();this.msg=`mouse click ${JSON.stringify(t)}`;var a=this.$refs.circle.getNode().clone();a.x(t.x),a.y(t.y);let o=this.$refs.layer.getNode();o.add(a),this.msg2={x:a.x(),y:a.y(),w:a.width(),h:a.height(),d:a.draggable(),v:a.visible(),id:a.id()}},onStageMouseMove(e){let t=this.myGetMouse();this.msg=`mouse move ${JSON.stringify(t)}`},onStageMouseenter(e){},onStageMouseleave(e){},myGetMouse(){let e=s.scale().x;var t=s.getPointerPosition(),a=t.x,o=t.y,i=Math.round(a/e),r=Math.round(o/e);return{x:i,y:r}},fitStageIntoParentContainer(){var e=document.querySelector("#stage-parent"),t=e.offsetWidth,a=t/r;s.width(r*a),s.height(n*a),s.scale({x:a,y:a}),this.configKonva.width=r*a,this.configKonva.height=n*a}}},g=l,h=a(1001),c=(0,h.Z)(g,o,i,!1,null,null,null),u=c.exports}}]);
//# sourceMappingURL=424.eb702d00.js.map