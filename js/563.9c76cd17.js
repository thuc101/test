"use strict";(self["webpackChunkhello_world"]=self["webpackChunkhello_world"]||[]).push([[563],{89563:function(t,e,i){i.r(e),i.d(e,{default:function(){return h}});var s=function(){var t=this,e=t._self._c;return e("div",[e("b-row",[e("b-col",{attrs:{lg:"4"}},[e("div",{attrs:{id:"stage-parent"}},[e("div",{staticClass:"border",attrs:{id:"container"}},[e("v-stage",{ref:"stage",attrs:{config:t.configKonva},on:{click:t.onStageClick,mousemove:t.onStageMouseMove,mouseenter:t.onStageMouseenter,mouseleave:t.onStageMouseleave}},[e("v-layer",{ref:"layer"},[e("v-circle",{ref:"circle",attrs:{id:"thuc101",config:t.configCircle}}),e("v-rect",{attrs:{config:{x:20,y:50,width:100,height:100,fill:"red"}}}),e("v-rect",{ref:"rect",attrs:{config:{x:220,y:150,width:100,height:100,fill:"red",draggable:!0}}})],1)],1)],1)]),e("button",{staticClass:"mt-1",on:{click:t.onSave}},[t._v("Save")]),e("button",{staticClass:"mt-1",on:{click:function(e){return t.onPaste(e)}}},[t._v("Paste")])]),e("b-col",{attrs:{lg:"8"}},[e("div",{staticClass:"d-flex align-content-start flex-wrap"},t._l(t.ds,(function(t,i){return e("div",{key:i,staticClass:"p-2 bd-highlight"},[e("img",{staticClass:"border",attrs:{src:t,width:"120",height:"90"}})])})),0)])],1)],1)},o=[],a=(i(57658),1500),r=1e3,n=null,l={data(){return{configKonva:{width:a,height:r},configCircle:{x:a/2,y:r/2,radius:90,fill:"yellow",stroke:"black",strokeWidth:5,draggable:!0,visible:!0},msg:{},msg2:{},src:"",ds:[]}},mounted(){this.$nextTick((function(){this.$refs.layer.getNode(),n=this.$refs.stage.getNode(),window.addEventListener("resize",this.fitStageIntoParentContainer),this.fitStageIntoParentContainer()}))},methods:{onPaste(t){alert(t.clipboardData)},downloadURI(t,e){var i=document.createElement("a");i.download=e,i.href=t,document.body.appendChild(i),i.click(),document.body.removeChild(i)},onSave(){let t=this.$refs.stage.getNode();var e=t.toDataURL({pixelRatio:.5});this.src=e,this.ds.push(e)},onStageClick(t){let e=this.myGetMouse();this.msg=`mouse click ${JSON.stringify(e)}`;var i=this.$refs.circle.getNode().clone();i.x(e.x),i.y(e.y);let s=this.$refs.layer.getNode();s.add(i),this.msg2={x:i.x(),y:i.y(),w:i.width(),h:i.height(),d:i.draggable(),v:i.visible(),id:i.id()}},onStageMouseMove(t){let e=this.myGetMouse();this.msg=`mouse move ${JSON.stringify(e)}`},onStageMouseenter(t){},onStageMouseleave(t){},myGetMouse(){let t=n.scale().x;var e=n.getPointerPosition(),i=e.x,s=e.y,o=Math.round(i/t),a=Math.round(s/t);return{x:o,y:a}},fitStageIntoParentContainer(){var t=document.querySelector("#stage-parent"),e=t.offsetWidth,i=e/a;n.width(a*i),n.height(r*i),n.scale({x:i,y:i}),this.configKonva.width=a*i,this.configKonva.height=r*i}}},c=l,d=i(1001),g=(0,d.Z)(c,s,o,!1,null,null,null),h=g.exports}}]);
//# sourceMappingURL=563.9c76cd17.js.map